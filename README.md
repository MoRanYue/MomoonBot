<p align="center">
  <a href="https://github.com/MoRanYue/MomoonBot">
    <!-- <img src="" height="" alt="Momoon Bot"> -->
  </a>
</p>

<p align="center">
  <a href="https://github.com/MoRanYue/MomoonBot/blob/main/LICENSE">
    <img alt="GitHub License" src="https://img.shields.io/github/license/MoRanYue/MomoonBot?style=flat-square&link=https%3A%2F%2Fgithub.com%2FMoRanYue%2FMomoonBot%2Fblob%2Fmain%2FLICENSE">
  </a>
  <a href="https://github.com/MoRanYue/MomoonBot">
    <img alt="GitHub repo size" src="https://img.shields.io/github/repo-size/MoRanYue/MomoonBot?style=flat-square">
  </a>
  <img alt="GitHub package.json version (branch)" src="https://img.shields.io/github/package-json/v/MoRanYue/MomoonBot/main?style=flat-square">

  <br>

  <a href="https://github.com/MoRanYue/MomoonBot/commits/main">
    <img alt="GitHub last commit (branch)" src="https://img.shields.io/github/last-commit/MoRanYue/MomoonBot/main?style=flat-square&link=https%3A%2F%2Fgithub.com%2FMoRanYue%2FMomoonBot%2Fcommits%2Fmain">
  </a>
  <a href="https://github.com/MoRanYue/MomoonBot/issues">
    <img alt="GitHub issues" src="https://img.shields.io/github/issues/MoRanYue/MomoonBot?style=flat-square&link=https%3A%2F%2Fgithub.com%2FMoRanYue%2FMomoonBot%2Fissues">
  </a>
  <a href="https://github.com/MoRanYue/MomoonBot/pulls">
    <img alt="GitHub pull requests" src="https://img.shields.io/github/issues-pr/MoRanYue/MomoonBot?style=flat-square&link=https%3A%2F%2Fgithub.com%2FMoRanYue%2FMomoonBot%2Fpulls">
  </a>
  <a href="https://github.com/MoRanYue/MomoonBot/graphs/contributors">
    <img alt="GitHub contributors" src="https://img.shields.io/github/contributors/MoRanYue/MomoonBot?style=flat-square&link=https%3A%2F%2Fgithub.com%2FMoRanYue%2FMomoonBot%2Fgraphs%2Fcontributors">
  </a>

  <br>

  <a href="https://github.com/whitechi73/OpenShamrock">
    <img alt="OpenShamrock" src="https://img.shields.io/badge/OpenShamrock-red?style=plastic&logo=https%3A%2F%2Fwhitechi73.github.io%2FOpenShamrock%2Fshamrock.jpg&labelColoe=silver">
  </a>
  <a href="https://onebot.dev">
    <img alt="OneBotV11" src="https://img.shields.io/badge/OneBot-v11-white?style=plastic&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAIVBMVEUAAAAAAAADAwMHBwceHh4UFBQNDQ0ZGRkoKCgvLy8iIiLWSdWYAAAAAXRSTlMAQObYZgAAAQVJREFUSMftlM0RgjAQhV%2B0ATYK6i1Xb%2BiMd0qgBEqgBEuwBOxU2QDKsjvojQPvkJ%2FZL5sXkgWrFirK4MibYUdE3OR2nEpuKz1%2Fq8CdNxNQgthZCXYVLjyoDQftaKuniHHWRnPh2GCUetR2%2F9HsMAXyUT4%2F3UHwtQT2AggSCGKeSAsFnxBIOuAggdh3AKTL7pDuCyABcMb0aQP7aM4AnAbc%2FwHwA5D2wDHTTe56gIIOUA%2F4YYV2e1sg713PXdZJAuncdZMAGkAukU9OAn40O849%2B0ornPwT93rphWF0mgAbauUrEOthlX8Zu7P5A6kZyKCJy75hhw1Mgr9RAUvX7A3csGqZegEdniCx30c3agAAAABJRU5ErkJggg%3D%3D&labelColor=deepblue">
  </a>
  <a href="https://onebot.dev">
    <img alt="OneBotV12" src="https://img.shields.io/badge/OneBot-v12-white?style=plastic&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAIVBMVEUAAAAAAAADAwMHBwceHh4UFBQNDQ0ZGRkoKCgvLy8iIiLWSdWYAAAAAXRSTlMAQObYZgAAAQVJREFUSMftlM0RgjAQhV%2B0ATYK6i1Xb%2BiMd0qgBEqgBEuwBOxU2QDKsjvojQPvkJ%2FZL5sXkgWrFirK4MibYUdE3OR2nEpuKz1%2Fq8CdNxNQgthZCXYVLjyoDQftaKuniHHWRnPh2GCUetR2%2F9HsMAXyUT4%2F3UHwtQT2AggSCGKeSAsFnxBIOuAggdh3AKTL7pDuCyABcMb0aQP7aM4AnAbc%2FwHwA5D2wDHTTe56gIIOUA%2F4YYV2e1sg713PXdZJAuncdZMAGkAukU9OAn40O849%2B0ornPwT93rphWF0mgAbauUrEOthlX8Zu7P5A6kZyKCJy75hhw1Mgr9RAUvX7A3csGqZegEdniCx30c3agAAAABJRU5ErkJggg%3D%3D&labelColor=blue">
  </a>

</p>

<div align="center">

# Momoon Bot

**_★ 基于Node.js并对接[OpenShamrock](https://github.com/whitechi73/OpenShamrock)客户端的Bot后端实现 ☆_**

</div>

## 简介

Momoon Bot是一个使用TypeScript（JavaScript）编写的跨平台、可被拓展、自由灵活的QQ聊天机器人框架，Node.js事件驱动贯穿其本身。

## 功能

Momoon Bot尚处于快速开发阶段。

### 兼容协议

Momoon Bot目前兼容[OneBotV12](https://onebot.dev)内容，所有的API均根据[OpenShamrock文档](https://whitechi73.github.io/OpenShamrock/)进行编写。

### 连接方式

- [x] HTTP通信
- [ ] 主动WebSocket
- [x] 被动WebSocket

### 关于消息CQ码

因为发送带有CQ码消息的操作，实在过于原始。

因此，CQ码相关的操作将不会被添加，包括解析CQ码与生成CQ码。本项目在解析上报的消息时，仅通过消息段解析。

**温馨提示**：虽然OpenShamrock本身支持发送带有CQ码的消息，但为了代码可读性，请务必不要使用任何CQ码。

### 关于频道

正在制作频道相关功能。

## 插件

此处会展示该项目包含的插件，其类名将被置于括号内，并会在其后标识它所使用的库。

**注意**：内置插件（`BuiltInPlugin`）不应该被删除，它被用于注册回显（`echo`）命令，以及其它内置命令，且被用于处理客户端上报事件的日志输出。

该项目内置以下插件：

- 内置插件（`BuiltInPlugin`）
- 调试器（`Debugger`）

该项目内置以下示例插件：

- 今日数字（`TodayNumber`） - 最简单的示例插件，在用户输入命令后，将输出发送者在近24小时内所得到的随机数字。与“今日人品”差不多。
- Q群管家反制（`GroupStewardFucker`） - 用于对部分群聊中，Q群管家撤回带有二维码或链接的“违规”消息的行为进行反制。
- 随机动漫图片（`RandomAnimePicture`） ⇐ `axios` - 通过调用公布在网络上的随机图片API，获取动漫图片。
- 哔哩哔哩视频详情获取（`BilibiliVideoDetails`） ⇐ `axios`、`js-md5` - 在用户发送带有哔哩哔哩视频链接、哔哩哔哩短链接或哔哩哔哩视频分享卡片消息等消息时，将调用哔哩哔哩API获取视频详细信息。

### 插件开发

文档未完成

## 脚手架（CLI）

Momoon Bot目前正在计划增加`Molunar CLI`，作为脚手架。

## 使用模块

- Axios.js - 主要用于支持HTTP通信。
- ws - 主要用于支持主动WebSocket与被动WebSocket通信。
- js-md5 - 主要用于面向OpenShamrock实现文件分片上传功能。

## 许可证

[**AGPL v3.0**](LICENSE.md)